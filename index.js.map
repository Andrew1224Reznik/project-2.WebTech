{"version":3,"file":"index.js","sources":["../src/js/testimonials.js","../src/js/openBackdrop.js","../src/js/smoothScroll.js","../src/js/openMobMenu.js","../src/index.js"],"sourcesContent":["document.addEventListener('DOMContentLoaded', () => {\n  const slidesContainer = document.querySelector('.slides');\n  const slider = document.querySelector('.slider');\n  const texts = document.querySelectorAll('.testimonials-text-all .text');\n  const prevBtn = document.getElementById('prevBtn');\n  const nextBtn = document.getElementById('nextBtn');\n\n  let slideElements = Array.from(document.querySelectorAll('.slide'));\n  const visibleSlides = 3;\n  const originalCount = slideElements.length;\n\n  if (originalCount === 0) return;\n\n  slideElements.forEach((s, i) => (s.dataset.index = i));\n\n  // клонирование\n  for (let i = 0; i < visibleSlides; i++) {\n    const cloneFirst = slideElements[i].cloneNode(true);\n    const cloneLast = slideElements[originalCount - 1 - i].cloneNode(true);\n    slidesContainer.appendChild(cloneFirst);\n    slidesContainer.insertBefore(cloneLast, slidesContainer.firstChild);\n  }\n\n  slideElements = Array.from(document.querySelectorAll('.slide'));\n  let totalSlides = slideElements.length;\n\n  let currentIndex = visibleSlides;\n  let isAnimating = false;\n\n  function getSlideWidth() {\n    return slider.offsetWidth / visibleSlides;\n  }\n\n  function setTransition(on) {\n    slidesContainer.style.transition = on ? 'transform 0.6s ease' : 'none';\n  }\n\n  function highlightCenter() {\n    const centerOffset = Math.floor(visibleSlides / 2);\n    const centerSlideIndex = currentIndex + centerOffset;\n    const centerSlide = slideElements[centerSlideIndex];\n    const centerOriginalIndex = Number(centerSlide.dataset.index);\n\n    // тексты\n    texts.forEach((t, i) =>\n      t.classList.toggle('active', i === centerOriginalIndex)\n    );\n\n    // слайды\n    slideElements.forEach(s => s.classList.remove('center'));\n    if (centerSlide) centerSlide.classList.add('center');\n  }\n\n  function updateSlider() {\n    const w = getSlideWidth();\n    slidesContainer.style.transform = `translateX(-${currentIndex * w}px)`;\n    highlightCenter();\n  }\n\n  function goToSlide(index) {\n    if (isAnimating) return;\n    isAnimating = true;\n    setTransition(true);\n    currentIndex = index;\n    updateSlider();\n  }\n\n  prevBtn.addEventListener('click', () => goToSlide(currentIndex - 1));\n  nextBtn.addEventListener('click', () => goToSlide(currentIndex + 1));\n\n  slidesContainer.addEventListener('transitionend', () => {\n    let jumped = false;\n\n    if (currentIndex < visibleSlides) {\n      setTransition(false);\n      currentIndex += originalCount;\n      slidesContainer.style.transform = `translateX(-${\n        currentIndex * getSlideWidth()\n      }px)`;\n      jumped = true;\n    } else if (currentIndex >= totalSlides - visibleSlides) {\n      setTransition(false);\n      currentIndex -= originalCount;\n      slidesContainer.style.transform = `translateX(-${\n        currentIndex * getSlideWidth()\n      }px)`;\n      jumped = true;\n    }\n\n    // если был прыжок — обновляем центр только после \"телепорта\"\n    if (jumped) {\n      requestAnimationFrame(() => {\n        highlightCenter();\n      });\n    }\n\n    isAnimating = false;\n    setTimeout(() => setTransition(true), 20);\n  });\n\n  window.addEventListener('resize', () => {\n    setTransition(false);\n    updateSlider();\n    setTimeout(() => setTransition(true), 20);\n  });\n\n  // старт\n  setTransition(false);\n  updateSlider();\n  setTimeout(() => setTransition(true), 20);\n});\n","const backdropWindow = document.querySelector('.backdrop');\nconst backdropBtns = document.querySelectorAll('.backdrop-button');\nconst body = document.querySelector('body');\nconst closeModal = document.querySelector('.backdrop-close');\n\nbackdropBtns.forEach(btn => {\n  btn.addEventListener('click', event => {\n    event.preventDefault(); // Предотвращаем переход по ссылке\n    backdropWindow.classList.add('backdrop-open'); // Показываем модальное окно\n    body.classList.add('noscroll'); // Блокируем прокрутку\n  });\n});\n\n// Закрытие по кнопке\ncloseModal.addEventListener('click', event => {\n  backdropWindow.classList.remove('backdrop-open');\n  body.classList.remove('noscroll');\n});\n\n// Закрытие модального окна при клике на фон (если клик не по содержимому)\nbackdropWindow.addEventListener('click', event => {\n  if (event.target === backdropWindow) {\n    // Проверяем, что клик именно по фону\n    backdropWindow.classList.remove('backdrop-open');\n    body.classList.remove('noscroll');\n  }\n});\n","document\n  .querySelector('.footer-link-contact-us')\n  .addEventListener('click', e => {\n    e.preventDefault();\n    smoothScrollTo('#footer-contact-us', 1500);\n  });\n\nfunction smoothScrollTo(target, duration = 600) {\n  const element = document.querySelector(target);\n  if (!element) return;\n\n  const start = window.scrollY;\n  const end = element.getBoundingClientRect().top + start;\n  const distance = end - start;\n  const startTime = performance.now();\n\n  function animation(currentTime) {\n    const elapsed = currentTime - startTime;\n    const progress = Math.min(elapsed / duration, 1);\n\n    // ease-in-out\n    const ease =\n      progress < 0.5\n        ? 2 * progress * progress\n        : 1 - Math.pow(-2 * progress + 2, 2) / 2;\n\n    window.scrollTo(0, start + distance * ease);\n\n    if (elapsed < duration) {\n      requestAnimationFrame(animation);\n    }\n  }\n\n  requestAnimationFrame(animation);\n}\n","const mobMenu = document.querySelector('.header-mob-menu');\nconst mobMenuBtn = document.querySelector('.header-button');\nconst closeMenu = document.querySelector('.menu-close');\n\nmobMenuBtn.addEventListener('click', event => {\n  event.preventDefault(); // Предотвращаем переход по ссылке\n  mobMenu.classList.add('mob-menu-open'); // Добавляем класс для отображения модального окна\n});\n\ncloseMenu.addEventListener('click', event => {\n  mobMenu.classList.remove('mob-menu-open');\n});\n","import AOS from 'aos';\nimport 'aos/dist/aos.css';\n\ndocument.addEventListener('DOMContentLoaded', () => {\n  AOS.init({\n    duration: 1200,\n    once: true,\n  });\n});\n\nimport './js/testimonials.js';\nimport './js/openBackdrop.js';\nimport './js/smoothScroll.js';\nimport './js/openMobMenu.js';\n"],"names":["slidesContainer","slider","texts","prevBtn","nextBtn","slideElements","visibleSlides","originalCount","s","i","cloneFirst","cloneLast","totalSlides","currentIndex","isAnimating","getSlideWidth","setTransition","on","highlightCenter","centerOffset","centerSlideIndex","centerSlide","centerOriginalIndex","t","updateSlider","w","goToSlide","index","jumped","backdropWindow","backdropBtns","body","closeModal","btn","event","e","smoothScrollTo","target","duration","element","start","distance","startTime","animation","currentTime","elapsed","progress","ease","mobMenu","mobMenuBtn","closeMenu","AOS"],"mappings":"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"}